(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{72748:(e,s,t)=>{"use strict";t.d(s,{default:()=>F});var a=t(95155),r=t(12115),i=t(35695),l=t(66695),c=t(69037),n=t(5040),o=t(13052),d=t(57434),x=t(57340),m=t(16785),h=t(61020),p=t(26126),b=t(30285),g=t(75478),u=t(6740),j=t(34869),y=t(47835),N=t(73980),A=t(33127),w=t(17580),v=t(63878);let f={Mathematics:u.A,English:n.A,Science:g.A,Biology:N.A,Chemistry:g.A,Physics:j.A,History:n.A,Geography:j.A,Art:A.A,French:y.A,Spanish:y.A,German:y.A,Sociology:w.A,Psychology:w.A,Economics:u.A,Business:u.A,"Computer Science":u.A,"Design Technology":A.A,Music:A.A,Drama:A.A,"Physical Education":w.A,"Religious Studies":n.A,"Media Studies":A.A,"Film Studies":A.A,"Food Technology":g.A,Textiles:A.A,Politics:w.A,Philosophy:n.A,Literature:n.A,Citizenship:w.A,Statistics:u.A,"Further Mathematics":u.A,"Applied Science":g.A,Engineering:u.A,"Health & Social Care":w.A,"Travel & Tourism":j.A,ICT:u.A,Dance:A.A,Photography:A.A,"Graphic Design":A.A,"Product Design":A.A,"Environmental Science":g.A,Geology:j.A,Astronomy:j.A,"Classical Civilisation":n.A,Latin:y.A,Greek:y.A,Arabic:y.A,Chinese:y.A,Japanese:y.A,Italian:y.A,Russian:y.A,Portuguese:y.A,Turkish:y.A,Urdu:y.A,Bengali:y.A,Gujarati:y.A,Hindi:y.A,Punjabi:y.A,Polish:y.A,"Modern Hebrew":y.A,Persian:y.A,Dutch:y.A,"Modern Greek":y.A,Welsh:y.A,Irish:y.A,"Scottish Gaelic":y.A},C=e=>{let s=["bg-blue-500/20 text-blue-300 border-blue-500/30","bg-green-500/20 text-green-300 border-green-500/30","bg-purple-500/20 text-purple-300 border-purple-500/30","bg-orange-500/20 text-orange-300 border-orange-500/30","bg-pink-500/20 text-pink-300 border-pink-500/30","bg-cyan-500/20 text-cyan-300 border-cyan-500/30","bg-yellow-500/20 text-yellow-300 border-yellow-500/30","bg-red-500/20 text-red-300 border-red-500/30","bg-indigo-500/20 text-indigo-300 border-indigo-500/30","bg-teal-500/20 text-teal-300 border-teal-500/30"];return s[e.split("").reduce((e,s)=>e+s.charCodeAt(0),0)%s.length]};function S(e){let{subjects:s,paperCounts:t,onSelectSubject:r}=e,i=[...s].sort((e,s)=>{let a=(t[s]||0)-(t[e]||0);return 0!==a?a:e.localeCompare(s)});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Subject"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Select a subject to view available past papers"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:i.map((e,s)=>{let i=f[e]||n.A,c=t[e]||0;return(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},children:(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/10 group-hover:bg-white/20 transition-colors",children:(0,a.jsx)(i,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)(p.E,{className:C(e),children:[c," ",1===c?"paper":"papers"]})]}),(0,a.jsx)(l.ZB,{className:"text-white text-lg leading-tight",children:e})]}),(0,a.jsx)(l.Wu,{className:"pt-0",children:(0,a.jsx)(b.$,{onClick:()=>r(e),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:"Select Subject"})})]})},e)})}),0===i.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Subjects Available"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Past papers will appear here once they're added to the system."})]})]})}var E=t(35169),k=t(48136),P=t(40646);let B={AQA:{name:"AQA",description:"Assessment and Qualifications Alliance",color:"bg-blue-500/20 text-blue-300 border-blue-500/30",icon:c.A},Edexcel:{name:"Edexcel",description:"Pearson Edexcel",color:"bg-green-500/20 text-green-300 border-green-500/30",icon:m.A},OCR:{name:"OCR",description:"Oxford Cambridge and RSA",color:"bg-purple-500/20 text-purple-300 border-purple-500/30",icon:P.A},WJEC:{name:"WJEC",description:"Welsh Joint Education Committee",color:"bg-orange-500/20 text-orange-300 border-orange-500/30",icon:k.A},CCEA:{name:"CCEA",description:"Council for the Curriculum, Examinations & Assessment",color:"bg-pink-500/20 text-pink-300 border-pink-500/30",icon:c.A},CIE:{name:"CIE",description:"Cambridge International Examinations",color:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30",icon:m.A},IB:{name:"IB",description:"International Baccalaureate",color:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30",icon:P.A},SQA:{name:"SQA",description:"Scottish Qualifications Authority",color:"bg-red-500/20 text-red-300 border-red-500/30",icon:k.A},Eduqas:{name:"Eduqas",description:"Eduqas (WJEC)",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30",icon:c.A},ICAAE:{name:"ICAAE",description:"Independent Curriculum and Assessment Authority for Education",color:"bg-teal-500/20 text-teal-300 border-teal-500/30",icon:m.A}},Z=e=>B[e]||{name:e,description:"Exam Board",color:"bg-gray-500/20 text-gray-300 border-gray-500/30",icon:k.A};function I(e){let{selectedSubject:s,examBoards:t,paperCounts:r,onSelectExamBoard:i,onGoBack:c}=e,n=[...t].sort((e,s)=>{let t=(r[s]||0)-(r[e]||0);return 0!==t?t:e.localeCompare(s)});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(b.$,{onClick:c,variant:"ghost",className:"text-white hover:bg-white/10",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Back to Subjects"]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Exam Board"}),(0,a.jsxs)("p",{className:"text-gray-300",children:["Select an exam board for"," ",(0,a.jsx)("span",{className:"text-blue-300 font-medium",children:s})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map((e,s)=>{let t=Z(e),c=t.icon,n=r[e]||0;return(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/10 group-hover:bg-white/20 transition-colors",children:(0,a.jsx)(c,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)(p.E,{className:t.color,children:[n," ",1===n?"paper":"papers"]})]}),(0,a.jsx)(l.ZB,{className:"text-white text-lg leading-tight",children:t.name}),(0,a.jsx)(l.BT,{className:"text-gray-300 text-sm",children:t.description})]}),(0,a.jsx)(l.Wu,{className:"pt-0",children:(0,a.jsxs)(b.$,{onClick:()=>i(e),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:["Select ",t.name]})})]})},e)})}),0===n.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(k.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Exam Boards Available"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["No exam boards found for ",s,". Please try another subject."]})]})]})}var R=t(69074),M=t(14186),T=t(85690);let W=e=>e<=30?"bg-green-500/20 text-green-300 border-green-500/30":e<=60?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-red-500/20 text-red-300 border-red-500/30",G=e=>e<=30?"Easy":e<=60?"Medium":"Hard",D=e=>{let s=new Date().getFullYear()-e;return s<=1?"bg-blue-500/20 text-blue-300 border-blue-500/30":s<=3?"bg-green-500/20 text-green-300 border-green-500/30":s<=5?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-gray-500/20 text-gray-300 border-gray-500/30"};function O(e){let{selectedSubject:s,selectedExamBoard:t,papers:r,onSelectPaper:i,onGoBack:c}=e,n=[...r].sort((e,s)=>{let t=s.year-e.year;return 0!==t?t:e.title.localeCompare(s.title)}).reduce((e,s)=>(e[s.year]||(e[s.year]=[]),e[s.year].push(s),e),{}),o=Object.keys(n).map(Number).sort((e,s)=>s-e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(b.$,{onClick:c,variant:"ghost",className:"text-white hover:bg-white/10",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Back to Exam Boards"]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Past Paper"}),(0,a.jsxs)("p",{className:"text-gray-300",children:["Select a past paper for"," ",(0,a.jsx)("span",{className:"text-blue-300 font-medium",children:s})," ","-"," ",(0,a.jsx)("span",{className:"text-purple-300 font-medium",children:t})]})]})]}),o.length>0?(0,a.jsx)("div",{className:"space-y-8",children:o.map(e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(R.A,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:e}),(0,a.jsxs)(p.E,{className:D(e),children:[n[e].length," ",1===n[e].length?"paper":"papers"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n[e].map((e,s)=>{let t=Array.isArray(e.questions)?e.questions:[],r=t.reduce((e,s)=>e+(s.marks||0),0),c=Math.max(60,1.5*r);return(0,a.jsx)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},children:(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(l.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(p.E,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:e.examBoard}),(0,a.jsx)(p.E,{className:W(r),children:G(r)})]}),(0,a.jsx)(l.ZB,{className:"text-white text-lg leading-tight",children:e.title}),(0,a.jsxs)(l.BT,{className:"text-gray-300",children:[e.subject," - ",e.year]})]}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(R.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:e.year})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[c," min"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[r," marks"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[t.length," questions"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"0 attempts"})]}),(0,a.jsxs)(b.$,{onClick:()=>i(e),variant:"outline",className:"border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Start Paper"]})]})]})]})},e.id)})})]},e))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Past Papers Available"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["No past papers found for ",s," - ",t,". Please try another combination."]})]})]})}var q=t(58782);function F(e){let{pastPapers:s,subjects:t,examBoards:p,subjectCounts:b,examBoardCounts:g}=e,[u,j]=(0,r.useState)("overview"),[y,N]=(0,r.useState)(""),[A,w]=(0,r.useState)(""),[v,f]=(0,r.useState)(null),C=(0,i.useRouter)(),E=(0,r.useMemo)(()=>y?[...new Set(s.filter(e=>e.subject===y).map(e=>e.examBoard))]:p,[y,s,p]),k=(0,r.useMemo)(()=>y&&A?s.filter(e=>e.subject===y&&e.examBoard===A):[],[y,A,s]),P=(0,r.useMemo)(()=>y?E.reduce((e,t)=>(e[t]=s.filter(e=>e.subject===y&&e.examBoard===t).length,e),{}):g,[y,E,s,g]),B=e=>{N(e),j("examBoard")},Z=async(e,s)=>{if(v)try{let t=await fetch("/api/past-papers/".concat(v.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:e,timeSpent:s})});if(!t.ok)throw Error("Failed to submit past paper");let a=await t.json();C.push("/mark?submission=".concat(a.submission.id))}catch(e){throw e}};return"viewer"===u&&v?(0,a.jsx)(q.A,{paper:v,totalMarks:v.questions.reduce((e,s)=>e+(s.marks||0),0),onBack:()=>{j("paper"),f(null)},onSubmit:Z}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 text-gray-400"}),(()=>{let e=[{label:"Past Papers",active:"overview"===u}];return y&&e.push({label:y,active:"subject"===u}),A&&e.push({label:A,active:"examBoard"===u}),v&&e.push({label:v.title,active:"paper"===u}),e})().map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[s>0&&(0,a.jsx)(o.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm ".concat(e.active?"text-white font-medium":"text-gray-400"),children:e.label})]},s))]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Past Papers"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Practice with real GCSE papers and get instant AI feedback on your answers."})]}),"overview"===u&&(0,a.jsxs)(h.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Total Papers"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Available to practice"})]})]}),(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"Subjects"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Different subjects"})]})]}),(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Exam Boards"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:p.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Supported boards"})]})]}),(0,a.jsxs)(l.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(l.aR,{className:"pb-2",children:(0,a.jsxs)(l.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"Completed"]})}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:"0"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Papers completed"})]})]})]}),(0,a.jsxs)(h.N,{mode:"wait",children:["overview"===u&&(0,a.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(S,{subjects:t,paperCounts:b,onSelectSubject:B})},"overview"),"subject"===u&&(0,a.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(S,{subjects:t,paperCounts:b,onSelectSubject:B})},"subject"),"examBoard"===u&&(0,a.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(I,{selectedSubject:y,examBoards:E,paperCounts:P,onSelectExamBoard:e=>{w(e),j("paper")},onGoBack:()=>{j("overview"),N(""),w(""),f(null)}})},"examBoard"),"paper"===u&&(0,a.jsx)(h.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(O,{selectedSubject:y,selectedExamBoard:A,papers:k,onSelectPaper:e=>{f(e),j("viewer")},onGoBack:()=>{j("examBoard"),f(null)}})},"paper")]})]})})}},91967:(e,s,t)=>{Promise.resolve().then(t.bind(t,72748))}},e=>{var s=s=>e(e.s=s);e.O(0,[105,358],()=>s(91967)),_N_E=e.O()}]);