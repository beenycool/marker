(()=>{var e={};e.id=7481,e.ids=[7481],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11437:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},11997:e=>{"use strict";e.exports=require("punycode")},14952:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32192:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34676:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]])},40228:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},41312:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},47206:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]])},49075:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=s(65239),r=s(48088),i=s(88170),o=s.n(i),l=s(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let c={children:["",{children:["past-papers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,59083)),"/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/past-papers/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/past-papers/page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/past-papers/page",pathname:"/past-papers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59083:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(37413),r=s(12909),i=s(39916),o=s(5069),l=s(36463);let n=[{title:"AQA GCSE English Literature Paper 1",subject:"English Literature",examBoard:"AQA",year:2023,questions:[{id:"1",question:"Starting with this speech (Act 1, Scene 3), explore how Shakespeare presents the relationship between Macbeth and Lady Macbeth.",marks:30,topic:"Character Analysis",markScheme:"Students should analyse the power dynamics, manipulation, and ambition shown in their relationship. Look for specific quotes and language analysis."},{id:"2",question:"How does Dickens present the character of Scrooge at the beginning of A Christmas Carol?",marks:30,topic:"Character Analysis",markScheme:"Students should identify key quotations showing Scrooge's miserly nature and analyze Dickens' language techniques."},{id:"3",question:"Explore the theme of social class in An Inspector Calls.",marks:30,topic:"Theme Analysis",markScheme:"Students should discuss how Priestley presents different social classes and their treatment of Eva Smith."},{id:"4",question:"How does Stevenson create tension in Dr Jekyll and Mr Hyde?",marks:30,topic:"Literary Techniques",markScheme:"Students should analyze narrative structure, foreshadowing, and Victorian Gothic elements."}]},{title:"Edexcel GCSE Mathematics Paper 2",subject:"Mathematics",examBoard:"Edexcel",year:2023,questions:[{id:"1",question:"Work out 2.7 \xd7 0.4",marks:1,topic:"Number",markScheme:"1.08"},{id:"2",question:"Solve 3x + 7 = 22",marks:2,topic:"Algebra",markScheme:"x = 5 (2 marks for correct answer, 1 mark for correct working)"},{id:"3",question:"Find the area of a triangle with base 12cm and height 8cm",marks:2,topic:"Geometry",markScheme:"Area = \xbd \xd7 base \xd7 height = \xbd \xd7 12 \xd7 8 = 48 cm\xb2"},{id:"4",question:"The probability of rain tomorrow is 0.3. What is the probability it will NOT rain?",marks:2,topic:"Probability",markScheme:"1 - 0.3 = 0.7"}]},{title:"OCR GCSE Biology Paper 1",subject:"Biology",examBoard:"OCR",year:2023,questions:[{id:"1",question:"Name the process by which plants make their own food.",marks:1,topic:"Plant Biology",markScheme:"Photosynthesis"},{id:"2",question:"Explain how the structure of a red blood cell is adapted to its function.",marks:4,topic:"Cell Biology",markScheme:"Biconcave shape increases surface area; no nucleus provides more space for haemoglobin; small and flexible to pass through capillaries; contains haemoglobin to carry oxygen."},{id:"3",question:"Describe the process of mitosis.",marks:6,topic:"Cell Division",markScheme:"DNA replication; chromosomes condense; nuclear membrane breaks down; spindle fibers form; chromosomes align at equator; sister chromatids separate; two identical nuclei form."}]},{title:"AQA GCSE History Paper 1",subject:"History",examBoard:"AQA",year:2023,questions:[{id:"1",question:"Describe two features of medieval hospitals.",marks:4,topic:"Medicine Through Time",markScheme:"Two features such as: run by monks/nuns; provided food and shelter; prayer was important; few medical treatments; cared for poor and pilgrims."},{id:"2",question:"Explain why there was little change in medical knowledge during the medieval period.",marks:12,topic:"Medicine Through Time",markScheme:"Influence of Church; limited education; belief in Four Humours; lack of technology; emphasis on prayer over treatment."}]},{title:"WJEC GCSE Geography Paper 1",subject:"Geography",examBoard:"WJEC",year:2023,questions:[{id:"1",question:'Define the term "urbanisation".',marks:2,topic:"Urban Geography",markScheme:"The process by which an increasing percentage of a country's population lives in urban areas/towns and cities."},{id:"2",question:"Explain two reasons why people migrate from rural to urban areas.",marks:4,topic:"Migration",markScheme:"Push factors: lack of employment, poor services, limited opportunities. Pull factors: better jobs, education, healthcare, entertainment."}]},{title:"Edexcel GCSE Chemistry Paper 2",subject:"Chemistry",examBoard:"Edexcel",year:2023,questions:[{id:"1",question:"What is the chemical symbol for sodium?",marks:1,topic:"Atomic Structure",markScheme:"Na"},{id:"2",question:"Balance the equation: Na + Cl₂ → NaCl",marks:2,topic:"Chemical Reactions",markScheme:"2Na + Cl₂ → 2NaCl"},{id:"3",question:"Explain why noble gases are unreactive.",marks:3,topic:"Periodic Table",markScheme:"Noble gases have full outer electron shells; stable electron configuration; no tendency to gain or lose electrons."}]}];async function c(){l.v.info("Starting past papers seeding process");try{let e=await o.db,{count:t,error:s}=await e.from("past_papers").select("*",{count:"exact",head:!0});if(s)return void l.v.error("Error checking existing past papers",s);if(t&&t>0)return void l.v.info(`${t} past papers already exist. Skipping seed.`);let a=await Promise.allSettled(n.map(async t=>{let{error:s}=await e.from("past_papers").insert({title:t.title,subject:t.subject,exam_board:t.examBoard,year:t.year,questions:t.questions});if(s)throw l.v.error(`Failed to seed paper: ${t.title}`,s),s;return l.v.info(`Successfully seeded paper: ${t.title}`),t.title})),r=a.filter(e=>"fulfilled"===e.status).length,i=a.filter(e=>"rejected"===e.status).length;l.v.info(`Seeding completed: ${r} successful, ${i} failed`),i>0&&l.v.warn(`${i} papers failed to seed. Check logs for details.`)}catch(e){l.v.error("Unexpected error during seeding",e)}}var d=s(88959);async function h(){await (0,r.HW)()||(0,i.redirect)("/sign-in"),await c();let e=await o.db,{data:t,error:s}=await e.from("past_papers").select("*").order("year",{ascending:!1}).order("title",{ascending:!0});if(s||!t)return(0,a.jsx)(d.default,{pastPapers:[],subjects:[],examBoards:[],subjectCounts:{},examBoardCounts:{}});let l=[...new Set(t.map(e=>e.subject))],n=[...new Set(t.map(e=>e.examBoard))],h=l.reduce((e,s)=>(e[s]=t.filter(e=>e.subject===s).length,e),{}),m=n.reduce((e,s)=>(e[s]=t.filter(e=>e.examBoard===s).length,e),{}),p=t.map(e=>({...e,questions:Array.isArray(e.questions)?e.questions:[]}));return(0,a.jsx)("div",{id:"past-papers-section",children:(0,a.jsx)(d.default,{pastPapers:p,subjects:l,examBoards:n,subjectCounts:h,examBoardCounts:m})})}},59402:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76826:(e,t,s)=>{"use strict";s.d(t,{default:()=>Z});var a=s(60687),r=s(43210),i=s(16189),o=s(44493),l=s(32192),n=s(14952),c=s(10022),d=s(82080),h=s(28947),m=s(86561),p=s(51743),u=s(88920),x=s(96834),g=s(29523),b=s(59402),y=s(34676),j=s(47206),w=s(11437),f=s(98971),v=s(97499),A=s(41312);let k={Mathematics:b.A,English:d.A,Science:y.A,Biology:j.A,Chemistry:y.A,Physics:w.A,History:d.A,Geography:w.A,Art:f.A,French:v.A,Spanish:v.A,German:v.A,Sociology:A.A,Psychology:A.A,Economics:b.A,Business:b.A,"Computer Science":b.A,"Design Technology":f.A,Music:f.A,Drama:f.A,"Physical Education":A.A,"Religious Studies":d.A,"Media Studies":f.A,"Film Studies":f.A,"Food Technology":y.A,Textiles:f.A,Politics:A.A,Philosophy:d.A,Literature:d.A,Citizenship:A.A,Statistics:b.A,"Further Mathematics":b.A,"Applied Science":y.A,Engineering:b.A,"Health & Social Care":A.A,"Travel & Tourism":w.A,ICT:b.A,Dance:f.A,Photography:f.A,"Graphic Design":f.A,"Product Design":f.A,"Environmental Science":y.A,Geology:w.A,Astronomy:w.A,"Classical Civilisation":d.A,Latin:v.A,Greek:v.A,Arabic:v.A,Chinese:v.A,Japanese:v.A,Italian:v.A,Russian:v.A,Portuguese:v.A,Turkish:v.A,Urdu:v.A,Bengali:v.A,Gujarati:v.A,Hindi:v.A,Punjabi:v.A,Polish:v.A,"Modern Hebrew":v.A,Persian:v.A,Dutch:v.A,"Modern Greek":v.A,Welsh:v.A,Irish:v.A,"Scottish Gaelic":v.A},N=e=>{let t=["bg-blue-500/20 text-blue-300 border-blue-500/30","bg-green-500/20 text-green-300 border-green-500/30","bg-purple-500/20 text-purple-300 border-purple-500/30","bg-orange-500/20 text-orange-300 border-orange-500/30","bg-pink-500/20 text-pink-300 border-pink-500/30","bg-cyan-500/20 text-cyan-300 border-cyan-500/30","bg-yellow-500/20 text-yellow-300 border-yellow-500/30","bg-red-500/20 text-red-300 border-red-500/30","bg-indigo-500/20 text-indigo-300 border-indigo-500/30","bg-teal-500/20 text-teal-300 border-teal-500/30"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]};function S({subjects:e,paperCounts:t,onSelectSubject:s}){let r=[...e].sort((e,s)=>{let a=(t[s]||0)-(t[e]||0);return 0!==a?a:e.localeCompare(s)});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Subject"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Select a subject to view available past papers"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.map((e,r)=>{let i=k[e]||d.A,l=t[e]||0;return(0,a.jsx)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*r},children:(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(o.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/10 group-hover:bg-white/20 transition-colors",children:(0,a.jsx)(i,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)(x.E,{className:N(e),children:[l," ",1===l?"paper":"papers"]})]}),(0,a.jsx)(o.ZB,{className:"text-white text-lg leading-tight",children:e})]}),(0,a.jsx)(o.Wu,{className:"pt-0",children:(0,a.jsx)(g.$,{onClick:()=>s(e),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:"Select Subject"})})]})},e)})}),0===r.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Subjects Available"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Past papers will appear here once they're added to the system."})]})]})}var C=s(5336),P=s(79410),E=s(28559);let q={AQA:{name:"AQA",description:"Assessment and Qualifications Alliance",color:"bg-blue-500/20 text-blue-300 border-blue-500/30",icon:m.A},Edexcel:{name:"Edexcel",description:"Pearson Edexcel",color:"bg-green-500/20 text-green-300 border-green-500/30",icon:h.A},OCR:{name:"OCR",description:"Oxford Cambridge and RSA",color:"bg-purple-500/20 text-purple-300 border-purple-500/30",icon:C.A},WJEC:{name:"WJEC",description:"Welsh Joint Education Committee",color:"bg-orange-500/20 text-orange-300 border-orange-500/30",icon:P.A},CCEA:{name:"CCEA",description:"Council for the Curriculum, Examinations & Assessment",color:"bg-pink-500/20 text-pink-300 border-pink-500/30",icon:m.A},CIE:{name:"CIE",description:"Cambridge International Examinations",color:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30",icon:h.A},IB:{name:"IB",description:"International Baccalaureate",color:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30",icon:C.A},SQA:{name:"SQA",description:"Scottish Qualifications Authority",color:"bg-red-500/20 text-red-300 border-red-500/30",icon:P.A},Eduqas:{name:"Eduqas",description:"Eduqas (WJEC)",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30",icon:m.A},ICAAE:{name:"ICAAE",description:"Independent Curriculum and Assessment Authority for Education",color:"bg-teal-500/20 text-teal-300 border-teal-500/30",icon:h.A}},M=e=>q[e]||{name:e,description:"Exam Board",color:"bg-gray-500/20 text-gray-300 border-gray-500/30",icon:P.A};function B({selectedSubject:e,examBoards:t,paperCounts:s,onSelectExamBoard:r,onGoBack:i}){let l=[...t].sort((e,t)=>{let a=(s[t]||0)-(s[e]||0);return 0!==a?a:e.localeCompare(t)});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(g.$,{onClick:i,variant:"ghost",className:"text-white hover:bg-white/10",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Back to Subjects"]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Exam Board"}),(0,a.jsxs)("p",{className:"text-gray-300",children:["Select an exam board for"," ",(0,a.jsx)("span",{className:"text-blue-300 font-medium",children:e})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((e,t)=>{let i=M(e),l=i.icon,n=s[e]||0;return(0,a.jsx)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(o.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-white/10 group-hover:bg-white/20 transition-colors",children:(0,a.jsx)(l,{className:"h-5 w-5 text-white"})}),(0,a.jsxs)(x.E,{className:i.color,children:[n," ",1===n?"paper":"papers"]})]}),(0,a.jsx)(o.ZB,{className:"text-white text-lg leading-tight",children:i.name}),(0,a.jsx)(o.BT,{className:"text-gray-300 text-sm",children:i.description})]}),(0,a.jsx)(o.Wu,{className:"pt-0",children:(0,a.jsxs)(g.$,{onClick:()=>r(e),variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:["Select ",i.name]})})]})},e)})}),0===l.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(P.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Exam Boards Available"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["No exam boards found for ",e,". Please try another subject."]})]})]})}var G=s(40228),_=s(48730),T=s(97840);let D=e=>e<=30?"bg-green-500/20 text-green-300 border-green-500/30":e<=60?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-red-500/20 text-red-300 border-red-500/30",R=e=>e<=30?"Easy":e<=60?"Medium":"Hard",W=e=>{let t=new Date().getFullYear()-e;return t<=1?"bg-blue-500/20 text-blue-300 border-blue-500/30":t<=3?"bg-green-500/20 text-green-300 border-green-500/30":t<=5?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":"bg-gray-500/20 text-gray-300 border-gray-500/30"};function I({selectedSubject:e,selectedExamBoard:t,papers:s,onSelectPaper:r,onGoBack:i}){let l=[...s].sort((e,t)=>{let s=t.year-e.year;return 0!==s?s:e.title.localeCompare(t.title)}).reduce((e,t)=>(e[t.year]||(e[t.year]=[]),e[t.year].push(t),e),{}),n=Object.keys(l).map(Number).sort((e,t)=>t-e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsxs)(g.$,{onClick:i,variant:"ghost",className:"text-white hover:bg-white/10",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-2"}),"Back to Exam Boards"]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Past Paper"}),(0,a.jsxs)("p",{className:"text-gray-300",children:["Select a past paper for"," ",(0,a.jsx)("span",{className:"text-blue-300 font-medium",children:e})," ","-"," ",(0,a.jsx)("span",{className:"text-purple-300 font-medium",children:t})]})]})]}),n.length>0?(0,a.jsx)("div",{className:"space-y-8",children:n.map(e=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(G.A,{className:"h-5 w-5 text-gray-400"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white",children:e}),(0,a.jsxs)(x.E,{className:W(e),children:[l[e].length," ",1===l[e].length?"paper":"papers"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l[e].map((e,t)=>{let s=Array.isArray(e.questions)?e.questions:[],i=s.reduce((e,t)=>e+(t.marks||0),0),l=Math.max(60,1.5*i);return(0,a.jsx)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer h-full group",children:[(0,a.jsxs)(o.aR,{className:"pb-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)(x.E,{className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:e.examBoard}),(0,a.jsx)(x.E,{className:D(i),children:R(i)})]}),(0,a.jsx)(o.ZB,{className:"text-white text-lg leading-tight",children:e.title}),(0,a.jsxs)(o.BT,{className:"text-gray-300",children:[e.subject," - ",e.year]})]}),(0,a.jsxs)(o.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:e.year})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[l," min"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[i," marks"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsxs)("span",{className:"text-gray-300",children:[s.length," questions"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:"0 attempts"})]}),(0,a.jsxs)(g.$,{onClick:()=>r(e),variant:"outline",className:"border-white/20 text-white hover:bg-white/10 group-hover:border-white/30 transition-colors",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Start Paper"]})]})]})]})},e.id)})})]},e))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(c.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Past Papers Available"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["No past papers found for ",e," - ",t,". Please try another combination."]})]})]})}var H=s(27886);function Z({pastPapers:e,subjects:t,examBoards:s,subjectCounts:x,examBoardCounts:g}){let[b,y]=(0,r.useState)("overview"),[j,w]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[A,k]=(0,r.useState)(null),N=(0,i.useRouter)(),C=(0,r.useMemo)(()=>j?[...new Set(e.filter(e=>e.subject===j).map(e=>e.examBoard))]:s,[j,e,s]),P=(0,r.useMemo)(()=>j&&f?e.filter(e=>e.subject===j&&e.examBoard===f):[],[j,f,e]),E=(0,r.useMemo)(()=>j?C.reduce((t,s)=>(t[s]=e.filter(e=>e.subject===j&&e.examBoard===s).length,t),{}):g,[j,C,e,g]),q=e=>{w(e),y("examBoard")},M=async(e,t)=>{if(A)try{let s=await fetch(`/api/past-papers/${A.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({answers:e,timeSpent:t})});if(!s.ok)throw Error("Failed to submit past paper");let a=await s.json();N.push(`/mark?submission=${a.submission.id}`)}catch(e){throw e}};return"viewer"===b&&A?(0,a.jsx)(H.A,{paper:A,totalMarks:A.questions.reduce((e,t)=>e+(t.marks||0),0),onBack:()=>{y("paper"),k(null)},onSubmit:M}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(l.A,{className:"h-4 w-4 text-gray-400"}),(()=>{let e=[{label:"Past Papers",active:"overview"===b}];return j&&e.push({label:j,active:"subject"===b}),f&&e.push({label:f,active:"examBoard"===b}),A&&e.push({label:A.title,active:"paper"===b}),e})().map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t>0&&(0,a.jsx)(n.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:`text-sm ${e.active?"text-white font-medium":"text-gray-400"}`,children:e.label})]},t))]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Past Papers"}),(0,a.jsx)("p",{className:"text-gray-300",children:"Practice with real GCSE papers and get instant AI feedback on your answers."})]}),"overview"===b&&(0,a.jsxs)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(o.aR,{className:"pb-2",children:(0,a.jsxs)(o.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"Total Papers"]})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:e.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Available to practice"})]})]}),(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(o.aR,{className:"pb-2",children:(0,a.jsxs)(o.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Subjects"]})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:t.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Different subjects"})]})]}),(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(o.aR,{className:"pb-2",children:(0,a.jsxs)(o.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"Exam Boards"]})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:s.length}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Supported boards"})]})]}),(0,a.jsxs)(o.Zp,{className:"bg-white/5 backdrop-blur-sm border-white/10",children:[(0,a.jsx)(o.aR,{className:"pb-2",children:(0,a.jsxs)(o.ZB,{className:"text-white text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"Completed"]})}),(0,a.jsxs)(o.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-white",children:"0"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Papers completed"})]})]})]}),(0,a.jsxs)(u.N,{mode:"wait",children:["overview"===b&&(0,a.jsx)(p.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(S,{subjects:t,paperCounts:x,onSelectSubject:q})},"overview"),"subject"===b&&(0,a.jsx)(p.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(S,{subjects:t,paperCounts:x,onSelectSubject:q})},"subject"),"examBoard"===b&&(0,a.jsx)(p.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(B,{selectedSubject:j,examBoards:C,paperCounts:E,onSelectExamBoard:e=>{v(e),y("paper")},onGoBack:()=>{y("overview"),w(""),v(""),k(null)}})},"examBoard"),"paper"===b&&(0,a.jsx)(p.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(0,a.jsx)(I,{selectedSubject:j,selectedExamBoard:f,papers:P,onSelectPaper:e=>{k(e),y("viewer")},onGoBack:()=>{y("examBoard"),k(null)}})},"paper")]})]})})}},79410:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85761:(e,t,s)=>{Promise.resolve().then(s.bind(s,88959))},88959:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/past-papers/client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/new_username/Documents/projects/aiamrkerv2/worktrees/claude/src/app/past-papers/client.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97499:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]])},98913:(e,t,s)=>{Promise.resolve().then(s.bind(s,76826))},98971:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[4243,2822,111,1658,3928,4513,7065,7190,9852,3342],()=>s(49075));module.exports=a})();